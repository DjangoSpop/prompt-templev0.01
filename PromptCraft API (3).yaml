openapi: 3.0.3
info:
  title: PromptCraft API
  version: 2.0.0
  description: |
    Comprehensive API documentation for PromptCraft - AI Prompt Management Platform.

    ## REST API Endpoints
    All REST endpoints are documented below with full request/response schemas.

    ## GraphQL API
    A GraphQL endpoint is also available at `/api/graphql/` with the following features:

    ### SavedPrompt CRUD Operations
    - **Queries**: `savedPrompt`, `allSavedPrompts`, `favoriteSavedPrompts`, `searchSavedPrompts`, `publicSavedPrompts`
    - **Mutations**: `createSavedPrompt`, `updateSavedPrompt`, `deleteSavedPrompt`, `toggleFavoriteSavedPrompt`, `useSavedPrompt`, `duplicateSavedPrompt`

    ### PromptIteration Operations
    - **Queries**: `promptIteration`, `allIterationsForPrompt`, `latestIteration`, `bookmarkedIterations`, `searchIterations`
    - **Mutations**: `createPromptIteration`, `updatePromptIteration`, `deletePromptIteration`, `setActiveIteration`

    ### ConversationThread Operations
    - **Queries**: `conversationThread`, `allConversationThreads`
    - **Mutations**: `createConversationThread`, `addIterationToThread`

    Access GraphiQL (interactive GraphQL IDE) at `/api/graphql/` in development mode.

    For detailed GraphQL documentation, see [SAVED_PROMPTS_GRAPHQL_API.md](https://github.com/promptcraft/docs/SAVED_PROMPTS_GRAPHQL_API.md)
paths:
  /health/redis/:
    get:
      operationId: health_redis_retrieve
      description: Health check for Redis cache and channels
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
        '503':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/templates/:
    get:
      operationId: v2_templates_list
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      parameters:
      - in: query
        name: author
        schema:
          type: string
          format: uuid
      - in: query
        name: category
        schema:
          type: integer
      - in: query
        name: is_featured
        schema:
          type: boolean
      - in: query
        name: is_public
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTemplateListList'
          description: ''
    post:
      operationId: v2_templates_create
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateCreateUpdate'
          description: ''
  /api/v2/templates/featured/:
    get:
      operationId: v2_templates_featured_retrieve
      description: Get featured templates
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/my_templates/:
    get:
      operationId: v2_templates_my_templates_retrieve
      description: Get current user's templates
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/search_suggestions/:
    get:
      operationId: v2_templates_search_suggestions_retrieve
      description: Get search suggestions based on popular templates and tags
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/trending/:
    get:
      operationId: v2_templates_trending_retrieve
      description: Get trending templates based on recent activity
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/:
    put:
      operationId: v2_templates_update
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateCreateUpdateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateCreateUpdate'
          description: ''
    get:
      operationId: v2_templates_retrieve
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
    delete:
      operationId: v2_templates_destroy
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
    patch:
      operationId: v2_templates_partial_update
      description: |-
        Complete CRUD ViewSet for templates

        Features:
        - List, create, retrieve, update, delete templates
        - Advanced filtering and search
        - Custom actions for usage tracking
        - AI integration
        - Analytics and ratings
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedTemplateCreateUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedTemplateCreateUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedTemplateCreateUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateCreateUpdate'
          description: ''
  /api/v2/templates/{id}/analytics/:
    get:
      operationId: v2_templates_analytics_retrieve
      description: Get detailed analytics for a template (author only)
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/analyze_with_ai/:
    post:
      operationId: v2_templates_analyze_with_ai_create
      description: Analyze template with AI for optimization suggestions
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/complete_usage/:
    post:
      operationId: v2_templates_complete_usage_create
      description: Complete template usage and award rewards
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/duplicate/:
    post:
      operationId: v2_templates_duplicate_create
      description: Create a copy of an existing template
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/rate_template/:
    post:
      operationId: v2_templates_rate_template_create
      description: Rate and review a template
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/templates/{id}/start_usage/:
    post:
      operationId: v2_templates_start_usage_create
      description: Start using a template - creates usage tracking record
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this template.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TemplateDetailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateDetail'
          description: ''
  /api/v2/template-categories/:
    get:
      operationId: v2_template_categories_list
      description: |-
        ViewSet for template categories

        Provides:
        - List all categories
        - Retrieve single category
        - Category statistics
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTemplateCategoryList'
          description: ''
  /api/v2/template-categories/{id}/:
    get:
      operationId: v2_template_categories_retrieve
      description: |-
        ViewSet for template categories

        Provides:
        - List all categories
        - Retrieve single category
        - Category statistics
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this template category.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateCategory'
          description: ''
  /api/v2/template-categories/{id}/templates/:
    get:
      operationId: v2_template_categories_templates_retrieve
      description: Get templates in this category
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this template category.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateCategory'
          description: ''
  /api/v2/search/prompts/:
    post:
      operationId: v2_search_prompts_create
      description: High-performance prompt search endpoint optimized for sub-50ms
        response times
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/intent/process/:
    post:
      operationId: v2_intent_process_create
      description: Process user intent for WebSocket chat optimization
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/prompts/featured/:
    get:
      operationId: v2_prompts_featured_retrieve
      description: Get featured prompts from the 100K prompt library
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/prompts/{prompt_id}/similar/:
    get:
      operationId: v2_prompts_similar_retrieve
      description: Get similar prompts from the library
      parameters:
      - in: path
        name: prompt_id
        schema:
          type: string
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/metrics/performance/:
    get:
      operationId: v2_metrics_performance_retrieve
      description: Get system performance metrics for admin monitoring
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/templates/{template_id}/validate/stream/:
    get:
      operationId: v2_templates_validate_stream_retrieve
      description: Server-Sent Events endpoint for real-time AI template validation
      parameters:
      - in: path
        name: template_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - Templates
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
        '403':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/status/:
    get:
      operationId: v2_status_retrieve
      description: Show current system status and available features
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/auth/register/:
    post:
      operationId: v2_auth_register_create
      description: |-
        User registration endpoint

        Creates new user account and returns JWT tokens
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRegistration'
          description: ''
  /api/v2/auth/registration/:
    post:
      operationId: v2_auth_registration_create
      description: |-
        User registration endpoint

        Creates new user account and returns JWT tokens
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRegistrationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRegistration'
          description: ''
  /api/v2/auth/login/:
    post:
      operationId: v2_auth_login_create
      description: Handle user login
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/auth/logout/:
    post:
      operationId: v2_auth_logout_create
      description: Logout user endpoint
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/auth/refresh/:
    post:
      operationId: v2_auth_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/v2/auth/check-username/:
    get:
      operationId: v2_auth_check_username_retrieve
      description: Check if username is available for registration
      parameters:
      - in: query
        name: username
        schema:
          type: string
        required: true
      tags:
      - Users
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/auth/check-email/:
    get:
      operationId: v2_auth_check_email_retrieve
      description: Check if email is available for registration
      parameters:
      - in: query
        name: email
        schema:
          type: string
        required: true
      tags:
      - Users
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/auth/social/providers/:
    get:
      operationId: v2_auth_social_providers_retrieve
      description: Get provider information
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/auth/social/{provider}/initiate/:
    get:
      operationId: v2_auth_social_initiate_retrieve
      description: |-
        Get OAuth authorization URL

        Query Parameters:
        - provider: 'google' or 'github'
        - redirect_uri: (optional) Custom redirect URI for extension/webapp
        - client_type: (optional) 'extension' or 'web' to help with URI resolution
      parameters:
      - in: path
        name: provider
        schema:
          type: string
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/auth/social/callback/:
    post:
      operationId: v2_auth_social_callback_create
      description: Handle OAuth callback
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/auth/social/unlink/:
    post:
      operationId: v2_auth_social_unlink_create
      description: Unlink social account from user
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/auth/social/link/:
    post:
      operationId: v2_auth_social_link_create
      description: |-
        Link social account to existing user

        This endpoint allows users to link additional social providers to their account
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/auth/profile/:
    get:
      operationId: v2_auth_profile_retrieve
      description: User profile view for retrieving and updating profile
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfile'
          description: ''
    put:
      operationId: v2_auth_profile_update
      description: User profile view for retrieving and updating profile
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserUpdate'
          description: ''
    patch:
      operationId: v2_auth_profile_partial_update
      description: User profile view for retrieving and updating profile
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserUpdate'
          description: ''
  /api/v2/auth/profile/update/:
    get:
      operationId: v2_auth_profile_update_retrieve
      description: Update user profile endpoint
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserUpdate'
          description: ''
    put:
      operationId: v2_auth_profile_update_update
      description: Update user profile endpoint
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserUpdate'
          description: ''
    patch:
      operationId: v2_auth_profile_update_partial_update
      description: Update user profile endpoint
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserUpdate'
          description: ''
  /api/v2/auth/change-password/:
    post:
      operationId: v2_auth_change_password_create
      description: Handle password change
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/auth/stats/:
    get:
      operationId: v2_auth_stats_retrieve
      description: Get user statistics and gamification data
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/providers/:
    get:
      operationId: v2_ai_providers_retrieve
      description: List available AI providers including DeepSeek and OpenRouter
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/models/:
    get:
      operationId: v2_ai_models_retrieve
      description: List available AI models including DeepSeek and OpenRouter models
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/generate/:
    post:
      operationId: v2_ai_generate_create
      description: AI generation endpoint with DeepSeek and OpenRouter integration
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/usage/:
    get:
      operationId: v2_ai_usage_retrieve
      description: Real AI usage from AIUsageQuota model.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/quotas/:
    get:
      operationId: v2_ai_quotas_retrieve
      description: Real AI quota limits from AIUsageQuota model.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/suggestions/:
    get:
      operationId: v2_ai_suggestions_retrieve
      description: AI-powered suggestions endpoint for autocomplete functionality
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/deepseek/chat/:
    post:
      operationId: v2_ai_deepseek_chat_create
      description: DeepSeek-specific chat endpoint for real-time AI conversations
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/deepseek/test/:
    get:
      operationId: v2_ai_deepseek_test_retrieve
      description: Test DeepSeek connectivity and configuration
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/deepseek/stream/:
    post:
      operationId: v2_ai_deepseek_stream_create
      description: |-
        Server-side streaming proxy for DeepSeek (SSE-like StreamingHttpResponse)

        This view re-uses the SSE proxy pattern from apps.chat.views.ChatCompletionsProxyView
        but keeps the implementation local to ai_services so frontend can call `/api/.../deepseek/stream/`.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/:
    get:
      operationId: v2_ai_assistant_retrieve_2
      description: Expose registered assistants to the frontend.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant:
    get:
      operationId: v2_ai_assistant_retrieve
      description: Expose registered assistants to the frontend.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/run/:
    post:
      operationId: v2_ai_assistant_run_create_2
      description: Run an assistant synchronously via standard Django view.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/run:
    post:
      operationId: v2_ai_assistant_run_create
      description: Run an assistant synchronously via standard Django view.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/threads/:
    get:
      operationId: v2_ai_assistant_threads_retrieve_2
      description: Return threads created by the current user.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/threads:
    get:
      operationId: v2_ai_assistant_threads_retrieve
      description: Return threads created by the current user.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/threads/{thread_id}/:
    get:
      operationId: v2_ai_assistant_threads_retrieve_4
      description: Return a thread with its messages.
      parameters:
      - in: path
        name: thread_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/assistant/threads/{thread_id}:
    get:
      operationId: v2_ai_assistant_threads_retrieve_3
      description: Return a thread with its messages.
      parameters:
      - in: path
        name: thread_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/optimization/stream/:
    post:
      operationId: v2_ai_optimization_stream_create
      description: |-
        SSE streaming endpoint for prompt optimization.

        Replaces the defunct /ws/optimization/ WebSocket route.
        Works with Gunicorn (WSGI) on Heroku â€“ no ASGI or Channels required.

        Frontend should use:
            POST /api/v2/ai/optimization/stream/
            Accept: text/event-stream
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/optimization/:
    post:
      operationId: v2_ai_optimization_create
      description: |-
        Non-streaming prompt optimization (JSON response).

        Convenient fallback when SSE is not wanted.
        POST /api/v2/ai/optimization/
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/ai/agent/optimize/:
    post:
      operationId: v2_ai_agent_optimize_create
      description: "\n    Optimize a prompt using Retrieval-Augmented Generation with\
        \ internal knowledge base.\n    \n    Features:\n    - Retrieves relevant\
        \ context from templates, docs, and usage history\n    - Budget-aware optimization\
        \ with token/credit limits\n    - Idempotent requests based on session_id\
        \ + content hash\n    - Trial user limitations and subscription enforcement\n\
        \    "
      summary: Optimize prompt using RAG agent
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                session_id:
                  type: string
                  description: Unique session identifier
                original:
                  type: string
                  description: Original prompt to optimize
                mode:
                  type: string
                  enum:
                  - fast
                  - deep
                  default: fast
                  description: Optimization mode
                context:
                  type: object
                  properties:
                    intent:
                      type: string
                      description: Intended use case
                    domain:
                      type: string
                      description: Domain context
                budget:
                  type: object
                  properties:
                    tokens_in:
                      type: integer
                      default: 2000
                    tokens_out:
                      type: integer
                      default: 800
                    max_credits:
                      type: integer
                      default: 5
              required:
              - session_id
              - original
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Optimization successful
                content:
                  application/json:
                    type: object
                    properties:
                      optimized:
                        type: string
                      citations:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            title:
                              type: string
                            score:
                              type: number
                      diff_summary:
                        type: string
                      usage:
                        type: object
                        properties:
                          tokens_in:
                            type: integer
                          tokens_out:
                            type: integer
                          credits:
                            type: integer
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: Invalid request
          description: ''
        '402':
          content:
            application/json:
              schema:
                description: Insufficient credits
          description: ''
        '429':
          content:
            application/json:
              schema:
                description: Rate limit exceeded
          description: ''
  /api/v2/ai/agent/stats/:
    get:
      operationId: v2_ai_agent_stats_retrieve
      description: Get usage statistics and performance metrics for the RAG agent
      summary: Get RAG agent statistics
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Statistics retrieved
                content:
                  application/json:
                    type: object
                    properties:
                      index_status:
                        type: object
                      user_usage:
                        type: object
                      system_metrics:
                        type: object
          description: ''
  /api/v2/ai/rag/retrieve/:
    post:
      operationId: v2_ai_rag_retrieve_create
      description: Return top-k retrieved documents from the RAG index
      summary: Retrieve documents for a query
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/ai/rag/answer/:
    post:
      operationId: v2_ai_rag_answer_create
      description: Run retrieval and generate an answer (non-streaming).
      summary: RAG answer endpoint
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/ai/askme/start/:
    post:
      operationId: v2_ai_askme_start_create
      description: DRF API view for starting AskMe session
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/answer/:
    post:
      operationId: v2_ai_askme_answer_create
      description: DRF API view for answering questions
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/finalize/:
    post:
      operationId: v2_ai_askme_finalize_create
      description: DRF API view for finalizing session
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/stream/:
    get:
      operationId: v2_ai_askme_stream_retrieve
      description: DRF API view for streaming updates
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/sessions/:
    get:
      operationId: v2_ai_askme_sessions_retrieve
      description: List user's AskMe sessions (all sessions during development)
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/sessions/{session_id}/:
    get:
      operationId: v2_ai_askme_sessions_retrieve_2
      description: Get session details
      parameters:
      - in: path
        name: session_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/ai/askme/sessions/{session_id}/delete/:
    delete:
      operationId: v2_ai_askme_sessions_delete_destroy
      description: Delete a session (no user check during development)
      parameters:
      - in: path
        name: session_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /api/v2/ai/askme/debug/:
    get:
      operationId: v2_ai_askme_debug_retrieve
      description: Debug endpoint to test if authentication is working
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v2_ai_askme_debug_create
      description: Debug endpoint to test if authentication is working
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/chat/completions/:
    post:
      operationId: v2_chat_completions_create
      description: |-
        Enhanced proxy streaming chat completions with template extraction

        Expected payload:
        {
            "messages": [{"role": "user", "content": "Hello"}],
            "model": "deepseek-chat",
            "stream": true,
            "temperature": 0.7,
            "max_tokens": 2048,
            "session_id": "optional-session-id"  // New: for chat history tracking
        }
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/completions/basic/:
    post:
      operationId: v2_chat_completions_basic_create
      description: |-
        Proxy streaming chat completions to DeepSeek API

        Expected payload:
        {
            "messages": [{"role": "user", "content": "Hello"}],
            "model": "deepseek-chat",
            "stream": true,
            "temperature": 0.7,
            "max_tokens": 2048
        }
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/templates/status/:
    get:
      operationId: v2_chat_templates_status_retrieve
      description: Get user's template extraction statistics
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/templates/extracted/:
    get:
      operationId: v2_chat_templates_extracted_retrieve
      description: Get user's extracted templates
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    patch:
      operationId: v2_chat_templates_extracted_partial_update
      description: Update extracted template status
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/templates/extracted/{template_id}/:
    get:
      operationId: v2_chat_templates_extracted_retrieve_2
      description: Get user's extracted templates
      parameters:
      - in: path
        name: template_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    patch:
      operationId: v2_chat_templates_extracted_partial_update_2
      description: Update extracted template status
      parameters:
      - in: path
        name: template_id
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/sessions/:
    get:
      operationId: v2_chat_sessions_retrieve
      description: Get user's chat sessions
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/health/:
    get:
      operationId: v2_chat_health_retrieve
      description: Check chat service health and configuration
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/chat/auth-test/:
    get:
      operationId: v2_chat_auth_test_retrieve
      description: Test authentication
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v2_chat_auth_test_create
      description: Test authentication with POST
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/achievements/:
    get:
      operationId: v2_gamification_achievements_retrieve
      description: Get all achievements with user progress
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/badges/:
    get:
      operationId: v2_gamification_badges_retrieve
      description: 'List user badges â€” derived from unlocked achievements (rarity:
        rare/epic/legendary).'
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/leaderboard/:
    get:
      operationId: v2_gamification_leaderboard_retrieve
      description: Leaderboard â€” top users by experience points from the User model.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/daily-challenges/:
    get:
      operationId: v2_gamification_daily_challenges_retrieve
      description: Get today's challenges
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/user-level/:
    get:
      operationId: v2_gamification_user_level_retrieve
      description: |-
        User level and experience â€” resolves against the UserLevel table.
        Falls back to 100-XP-per-level formula when the table is empty.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/gamification/streak/:
    get:
      operationId: v2_gamification_streak_retrieve
      description: Get user streak data
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/dashboard/:
    get:
      operationId: v2_analytics_dashboard_retrieve
      description: Analytics dashboard â€” real DB aggregations from User, PromptHistory,
        and Gamification models.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/user-insights/:
    get:
      operationId: v2_analytics_user_insights_retrieve
      description: User-specific insights â€” aggregated from real DB data.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/template-analytics/:
    get:
      operationId: v2_analytics_template_analytics_retrieve
      description: Template usage analytics â€” aggregated from real data.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/ab-tests/:
    get:
      operationId: v2_analytics_ab_tests_retrieve
      description: A/B testing â€” placeholder (no active tests configured).
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/recommendations/:
    get:
      operationId: v2_analytics_recommendations_retrieve
      description: Personalized recommendations â€” returns public templates sorted
        by usage.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/analytics/track/:
    post:
      operationId: v2_analytics_track_create
      description: Track user analytics events â€” persists to DB via AnalyticsEvent
        model.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/core/health/detailed/:
    get:
      operationId: v2_core_health_detailed_retrieve
      description: Return comprehensive health status with all service checks
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/core/config/:
    get:
      operationId: v2_core_config_retrieve
      description: Get public app configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/core/configuration/:
    get:
      operationId: v2_core_configuration_retrieve
      description: Return app configuration
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/core/rag/status/:
    get:
      operationId: v2_core_rag_status_retrieve
      description: Get RAG service status
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/core/notifications/:
    get:
      operationId: v2_core_notifications_retrieve
      description: Get user notifications
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v2_core_notifications_create
      description: Mark notification as read
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/core/api/v2/status/:
    get:
      operationId: v2_core_api_v2_status_retrieve
      description: Get system status and configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/core/api/v2/cors-test/:
    get:
      operationId: v2_core_api_v2_cors_test_retrieve
      description: Test CORS configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
    post:
      operationId: v2_core_api_v2_cors_test_create
      description: Test CORS configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/v2/billing/plans/:
    get:
      operationId: v2_billing_plans_retrieve
      description: List all active billing plans.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/billing/plans/{id}/:
    get:
      operationId: v2_billing_plans_retrieve_2
      description: Get details of a specific billing plan.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/billing/me/subscription/:
    get:
      operationId: v2_billing_me_subscription_retrieve
      description: Get the authenticated user's current subscription.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/billing/me/entitlements/:
    get:
      operationId: v2_billing_me_entitlements_retrieve
      description: Return the user's entitlements based on their subscription plan.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/billing/me/usage/:
    get:
      operationId: v2_billing_me_usage_retrieve
      description: Get the user's current AI usage against their quota.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/billing/checkout/:
    post:
      operationId: v2_billing_checkout_create
      description: Create a Stripe checkout session (Stripe integration pending).
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/billing/portal/:
    post:
      operationId: v2_billing_portal_create
      description: Create a Stripe customer portal session (Stripe integration pending).
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/billing/webhooks/stripe/:
    post:
      operationId: v2_billing_webhooks_stripe_create
      description: Handle Stripe webhooks.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/intent/:
    post:
      operationId: v2_orchestrator_intent_create
      description: Detect user intent from a prompt using DeepSeek AI.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/assess/:
    post:
      operationId: v2_orchestrator_assess_create
      description: Assess prompt quality using DeepSeek AI.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/render/:
    post:
      operationId: v2_orchestrator_render_create
      description: Render a template by substituting {{variable}} placeholders.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/search/:
    get:
      operationId: v2_orchestrator_search_retrieve
      description: Search for templates in the library.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/template/{template_id}/:
    get:
      operationId: v2_orchestrator_template_retrieve_2
      description: Get a specific template by ID or name.
      parameters:
      - in: path
        name: template_id
        schema:
          type: integer
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/orchestrator/template/:
    get:
      operationId: v2_orchestrator_template_retrieve
      description: Get a specific template by ID or name.
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/history/history/:
    get:
      operationId: v2_history_history_list
      parameters:
      - in: query
        name: intent_category
        schema:
          type: string
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      - in: query
        name: source
        schema:
          type: string
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPromptHistoryList'
          description: ''
    post:
      operationId: v2_history_history_create
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptHistoryCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptHistoryCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptHistoryCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptHistoryCreate'
          description: ''
  /api/v2/history/history/{id}/:
    put:
      operationId: v2_history_history_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt history.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptHistoryUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptHistoryUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptHistoryUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptHistoryUpdate'
          description: ''
    get:
      operationId: v2_history_history_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt history.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptHistory'
          description: ''
    delete:
      operationId: v2_history_history_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt history.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
    patch:
      operationId: v2_history_history_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt history.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPromptHistoryUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPromptHistoryUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPromptHistoryUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptHistoryUpdate'
          description: ''
  /api/v2/history/history/{id}/enhance/:
    post:
      operationId: v2_history_history_enhance_create
      description: Run optimization pipeline, debit credits, update optimized_prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt history.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptHistoryRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptHistoryRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptHistoryRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptHistory'
          description: ''
  /api/v2/history/saved-prompts/:
    get:
      operationId: v2_history_saved_prompts_list
      description: Get all saved prompts for the authenticated user with optional
        filtering.
      summary: List saved prompts
      parameters:
      - in: query
        name: category
        schema:
          type: string
        description: Filter by category
      - in: query
        name: is_favorite
        schema:
          type: boolean
        description: Filter by favorite status
      - in: query
        name: is_public
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: search
        schema:
          type: string
        description: Search in title, content, description
      tags:
      - Saved Prompts
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSavedPromptListList'
          description: ''
    post:
      operationId: v2_history_saved_prompts_create
      description: Save a new plain prompt for future reuse.
      summary: Create saved prompt
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPromptCreate'
          description: ''
  /api/v2/history/saved-prompts/favorites/:
    get:
      operationId: v2_history_saved_prompts_favorites_list
      description: Get all prompts marked as favorite.
      summary: Get favorite prompts
      parameters:
      - in: query
        name: category
        schema:
          type: string
      - in: query
        name: is_favorite
        schema:
          type: boolean
      - in: query
        name: is_public
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Saved Prompts
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSavedPromptListList'
          description: ''
  /api/v2/history/saved-prompts/public/:
    get:
      operationId: v2_history_saved_prompts_public_list
      description: Get prompts shared publicly by all users.
      summary: Get public prompts
      parameters:
      - in: query
        name: category
        schema:
          type: string
        description: Filter by category
      - in: query
        name: is_favorite
        schema:
          type: boolean
      - in: query
        name: is_public
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Saved Prompts
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSavedPromptListList'
          description: ''
  /api/v2/history/saved-prompts/stats/:
    get:
      operationId: v2_history_saved_prompts_stats_retrieve
      description: Get summary statistics for the user's saved prompts
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
  /api/v2/history/saved-prompts/{id}/:
    put:
      operationId: v2_history_saved_prompts_update
      description: Update an existing saved prompt.
      summary: Update saved prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptUpdateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPromptUpdate'
          description: ''
    get:
      operationId: v2_history_saved_prompts_retrieve
      description: Retrieve a specific saved prompt by ID.
      summary: Get saved prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
    delete:
      operationId: v2_history_saved_prompts_destroy
      description: Soft-delete a saved prompt (can be recovered).
      summary: Delete saved prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
    patch:
      operationId: v2_history_saved_prompts_partial_update
      description: Partially update an existing saved prompt.
      summary: Partial update saved prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSavedPromptUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSavedPromptUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSavedPromptUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPromptUpdate'
          description: ''
  /api/v2/history/saved-prompts/{id}/duplicate/:
    post:
      operationId: v2_history_saved_prompts_duplicate_create
      description: Create a copy of an existing saved prompt.
      summary: Duplicate a prompt
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
  /api/v2/history/saved-prompts/{id}/iterations/:
    get:
      operationId: v2_history_saved_prompts_iterations_retrieve
      description: |-
        List or create prompt iterations for a specific saved prompt.

        GET  /saved-prompts/{id}/iterations/  â†’ list all iterations
        POST /saved-prompts/{id}/iterations/  â†’ create a new iteration

        Bridges SavedPrompt â†’ PromptHistory â†’ PromptIteration by
        auto-creating a PromptHistory entry the first time and caching its
        id in saved_prompt.metadata['history_id'].
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - v2
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
    post:
      operationId: v2_history_saved_prompts_iterations_create
      description: |-
        List or create prompt iterations for a specific saved prompt.

        GET  /saved-prompts/{id}/iterations/  â†’ list all iterations
        POST /saved-prompts/{id}/iterations/  â†’ create a new iteration

        Bridges SavedPrompt â†’ PromptHistory â†’ PromptIteration by
        auto-creating a PromptHistory entry the first time and caching its
        id in saved_prompt.metadata['history_id'].
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - v2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
  /api/v2/history/saved-prompts/{id}/toggle-favorite/:
    post:
      operationId: v2_history_saved_prompts_toggle_favorite_create
      description: Add or remove a prompt from favorites.
      summary: Toggle favorite status
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
  /api/v2/history/saved-prompts/{id}/use/:
    post:
      operationId: v2_history_saved_prompts_use_create
      description: Record that a prompt was used (increments use count).
      summary: Mark prompt as used
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this saved prompt.
        required: true
      tags:
      - Saved Prompts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SavedPromptRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedPrompt'
          description: ''
  /api/v2/history/iterations/:
    get:
      operationId: v2_history_iterations_list
      description: Get all prompt iterations for the authenticated user.
      summary: List prompt iterations
      parameters:
      - in: query
        name: interaction_type
        schema:
          type: string
          enum:
          - correction
          - experiment
          - extension
          - manual
          - optimization
          - refinement
        description: |-
          Type of iteration/modification

          * `manual` - Manual Edit
          * `optimization` - AI Optimization
          * `refinement` - User Refinement
          * `extension` - Extension/Add-on
          * `correction` - Error Correction
          * `experiment` - Experimental Variation
      - in: query
        name: is_active
        schema:
          type: boolean
      - in: query
        name: is_bookmarked
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: parent_prompt
        schema:
          type: string
          format: uuid
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Prompt Iterations
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPromptIterationList'
          description: ''
    post:
      operationId: v2_history_iterations_create
      description: Create a new iteration for a prompt.
      summary: Create prompt iteration
      tags:
      - Prompt Iterations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptIterationCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptIterationCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptIterationCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIterationCreate'
          description: ''
  /api/v2/history/iterations/bookmarked/:
    get:
      operationId: v2_history_iterations_bookmarked_list
      description: Get all bookmarked iterations.
      summary: Get bookmarked iterations
      parameters:
      - in: query
        name: interaction_type
        schema:
          type: string
          enum:
          - correction
          - experiment
          - extension
          - manual
          - optimization
          - refinement
        description: |-
          Type of iteration/modification

          * `manual` - Manual Edit
          * `optimization` - AI Optimization
          * `refinement` - User Refinement
          * `extension` - Extension/Add-on
          * `correction` - Error Correction
          * `experiment` - Experimental Variation
      - in: query
        name: is_active
        schema:
          type: boolean
      - in: query
        name: is_bookmarked
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: parent_prompt
        schema:
          type: string
          format: uuid
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Prompt Iterations
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPromptIterationList'
          description: ''
  /api/v2/history/iterations/{id}/:
    put:
      operationId: v2_history_iterations_update
      description: Update an existing prompt iteration.
      summary: Update prompt iteration
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIteration'
          description: ''
    get:
      operationId: v2_history_iterations_retrieve
      description: Retrieve a specific prompt iteration by ID.
      summary: Get prompt iteration
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIteration'
          description: ''
    delete:
      operationId: v2_history_iterations_destroy
      description: Soft-delete a prompt iteration.
      summary: Delete prompt iteration
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
    patch:
      operationId: v2_history_iterations_partial_update
      description: Partially update an existing prompt iteration.
      summary: Partial update prompt iteration
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPromptIterationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPromptIterationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPromptIterationRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIteration'
          description: ''
  /api/v2/history/iterations/{id}/set-active/:
    post:
      operationId: v2_history_iterations_set_active_create
      description: Mark this iteration as the active version.
      summary: Set as active iteration
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIteration'
          description: ''
  /api/v2/history/iterations/{id}/toggle-bookmark/:
    post:
      operationId: v2_history_iterations_toggle_bookmark_create
      description: Toggle bookmark status of an iteration.
      summary: Toggle bookmark
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this prompt iteration.
        required: true
      tags:
      - Prompt Iterations
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PromptIterationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptIteration'
          description: ''
  /api/v2/history/threads/:
    get:
      operationId: v2_history_threads_list
      description: Get all conversation threads for the authenticated user.
      summary: List conversation threads
      parameters:
      - in: query
        name: is_shared
        schema:
          type: boolean
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: status
        schema:
          type: string
          enum:
          - active
          - archived
          - completed
        description: |-
          * `active` - Active
          * `archived` - Archived
          * `completed` - Completed
      tags:
      - Conversation Threads
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedConversationThreadList'
          description: ''
    post:
      operationId: v2_history_threads_create
      description: Create a new conversation thread.
      summary: Create conversation thread
      tags:
      - Conversation Threads
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversationThreadCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConversationThreadCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConversationThreadCreateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationThreadCreate'
          description: ''
  /api/v2/history/threads/{id}/:
    put:
      operationId: v2_history_threads_update
      description: Update an existing conversation thread.
      summary: Update conversation thread
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this conversation thread.
        required: true
      tags:
      - Conversation Threads
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversationThreadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConversationThreadRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConversationThreadRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationThread'
          description: ''
    get:
      operationId: v2_history_threads_retrieve
      description: Retrieve a specific conversation thread by ID.
      summary: Get conversation thread
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this conversation thread.
        required: true
      tags:
      - Conversation Threads
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationThread'
          description: ''
    delete:
      operationId: v2_history_threads_destroy
      description: Soft-delete a conversation thread.
      summary: Delete conversation thread
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this conversation thread.
        required: true
      tags:
      - Conversation Threads
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '204':
          description: No response body
    patch:
      operationId: v2_history_threads_partial_update
      description: Partially update an existing conversation thread.
      summary: Partial update conversation thread
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this conversation thread.
        required: true
      tags:
      - Conversation Threads
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedConversationThreadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedConversationThreadRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedConversationThreadRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationThread'
          description: ''
  /api/v2/history/threads/{id}/add-iteration/:
    post:
      operationId: v2_history_threads_add_iteration_create
      description: Add an existing iteration to a conversation thread.
      summary: Add iteration to thread
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this conversation thread.
        required: true
      tags:
      - Conversation Threads
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                iteration_id:
                  type: string
                  format: uuid
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationThread'
          description: ''
  /health/detailed/:
    get:
      operationId: health_detailed_retrieve
      description: Return comprehensive health status with all service checks
      tags:
      - health
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /config/:
    get:
      operationId: config_retrieve
      description: Get public app configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /configuration/:
    get:
      operationId: configuration_retrieve
      description: Return app configuration
      tags:
      - configuration
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /rag/status/:
    get:
      operationId: rag_status_retrieve
      description: Get RAG service status
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /notifications/:
    get:
      operationId: notifications_retrieve
      description: Get user notifications
      tags:
      - notifications
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: notifications_create
      description: Mark notification as read
      tags:
      - notifications
      security:
      - jwtAuth: []
      - cookieAuth: []
      responses:
        '200':
          description: No response body
  /api/v2/cors-test/:
    get:
      operationId: v2_cors_test_retrieve
      description: Test CORS configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
    post:
      operationId: v2_cors_test_create
      description: Test CORS configuration
      tags:
      - Core
      security:
      - jwtAuth: []
      - cookieAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
components:
  schemas:
    ConversationThread:
      type: object
      description: Full serializer for ConversationThread model
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          type: string
          format: uuid
          readOnly: true
        title:
          type: string
          description: Conversation title/summary
          maxLength: 200
        description:
          type: string
          description: Detailed description of conversation purpose
        total_iterations:
          type: integer
          readOnly: true
          description: Total number of iterations in this thread
        total_tokens:
          type: integer
          readOnly: true
          description: Total tokens consumed in this thread
        total_credits:
          type: integer
          readOnly: true
          description: Total credits spent on this thread
        status:
          $ref: '#/components/schemas/StatusEnum'
        is_shared:
          type: boolean
          description: Whether this thread is shared with others
        is_deleted:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        last_activity_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - is_deleted
      - last_activity_at
      - total_credits
      - total_iterations
      - total_tokens
      - updated_at
      - user
    ConversationThreadCreate:
      type: object
      description: Serializer for creating a new ConversationThread
      properties:
        title:
          type: string
          description: Conversation title/summary
          maxLength: 200
        description:
          type: string
          description: Detailed description of conversation purpose
        status:
          $ref: '#/components/schemas/StatusEnum'
    ConversationThreadCreateRequest:
      type: object
      description: Serializer for creating a new ConversationThread
      properties:
        title:
          type: string
          description: Conversation title/summary
          maxLength: 200
        description:
          type: string
          description: Detailed description of conversation purpose
        status:
          $ref: '#/components/schemas/StatusEnum'
    ConversationThreadRequest:
      type: object
      description: Full serializer for ConversationThread model
      properties:
        title:
          type: string
          description: Conversation title/summary
          maxLength: 200
        description:
          type: string
          description: Detailed description of conversation purpose
        status:
          $ref: '#/components/schemas/StatusEnum'
        is_shared:
          type: boolean
          description: Whether this thread is shared with others
    FieldTypeEnum:
      enum:
      - text
      - textarea
      - dropdown
      - checkbox
      - radio
      - number
      type: string
      description: |-
        * `text` - Text Input
        * `textarea` - Text Area
        * `dropdown` - Dropdown Select
        * `checkbox` - Checkbox List
        * `radio` - Radio Buttons
        * `number` - Number Input
    InteractionTypeEnum:
      enum:
      - manual
      - optimization
      - refinement
      - extension
      - correction
      - experiment
      type: string
      description: |-
        * `manual` - Manual Edit
        * `optimization` - AI Optimization
        * `refinement` - User Refinement
        * `extension` - Extension/Add-on
        * `correction` - Error Correction
        * `experiment` - Experimental Variation
    PaginatedConversationThreadList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/ConversationThread'
    PaginatedPromptHistoryList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PromptHistory'
    PaginatedPromptIterationList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PromptIteration'
    PaginatedSavedPromptListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/SavedPromptList'
    PaginatedTemplateCategoryList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/TemplateCategory'
    PaginatedTemplateListList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/TemplateList'
    PatchedConversationThreadRequest:
      type: object
      description: Full serializer for ConversationThread model
      properties:
        title:
          type: string
          description: Conversation title/summary
          maxLength: 200
        description:
          type: string
          description: Detailed description of conversation purpose
        status:
          $ref: '#/components/schemas/StatusEnum'
        is_shared:
          type: boolean
          description: Whether this thread is shared with others
    PatchedPromptHistoryUpdateRequest:
      type: object
      properties:
        optimized_prompt:
          type: string
        model_used:
          type: string
          maxLength: 100
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        credits_spent:
          type: integer
        tags: {}
        meta: {}
    PatchedPromptIterationRequest:
      type: object
      description: Full serializer for PromptIteration model
      properties:
        parent_prompt:
          type: string
          format: uuid
          description: The original prompt this iteration is based on
        previous_iteration:
          type: string
          format: uuid
          nullable: true
          description: The previous version in the iteration chain
        version_tag:
          type: string
          description: Optional semantic version tag (e.g., 'v1.0', 'draft-2')
          maxLength: 50
        prompt_text:
          type: string
          minLength: 1
          description: The current iteration of the prompt
        system_message:
          type: string
          description: Optional system message for this iteration
        ai_response:
          type: string
          description: AI generated response for this iteration
        response_model:
          type: string
          description: AI model used for this response
          maxLength: 100
        interaction_type:
          allOf:
          - $ref: '#/components/schemas/InteractionTypeEnum'
          description: |-
            Type of iteration/modification

            * `manual` - Manual Edit
            * `optimization` - AI Optimization
            * `refinement` - User Refinement
            * `extension` - Extension/Add-on
            * `correction` - Error Correction
            * `experiment` - Experimental Variation
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        response_time_ms:
          type: integer
          description: Response time in milliseconds
        credits_spent:
          type: integer
        user_rating:
          type: integer
          nullable: true
          description: User rating (1-5) for this iteration
        feedback_notes:
          type: string
          description: User notes about this iteration
        changes_summary:
          type: string
          description: Summary of changes from previous iteration
        parameters:
          description: Model parameters used (temperature, max_tokens, etc.)
        tags:
          description: Tags for categorization and search
        metadata:
          description: Additional flexible metadata
        is_active:
          type: boolean
          description: Whether this is the active/current iteration
        is_bookmarked:
          type: boolean
          description: User bookmark for important iterations
    PatchedSavedPromptUpdateRequest:
      type: object
      description: Serializer for updating an existing SavedPrompt
      properties:
        title:
          type: string
          minLength: 1
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
    PatchedTemplateCreateUpdateRequest:
      type: object
      description: |-
        Serializer for creating and updating templates

        Handles:
        - Template creation with fields
        - Field validation
        - Author assignment
        - Transaction safety
      properties:
        title:
          type: string
          minLength: 1
          description: Template title
          maxLength: 200
        description:
          type: string
          minLength: 1
          description: Description of what this template does
        category:
          type: integer
          description: Template category
        template_content:
          type: string
          minLength: 1
          description: Template content with {{placeholders}}
        version:
          type: string
          minLength: 1
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        is_public:
          type: boolean
          description: Whether template is publicly visible
        fields_data:
          type: array
          items:
            $ref: '#/components/schemas/PromptFieldRequest'
          writeOnly: true
    PatchedUserUpdateRequest:
      type: object
      description: |-
        Serializer for updating user profile

        Allows users to update their profile information
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        bio:
          type: string
          maxLength: 500
        avatar:
          type: string
          format: binary
          nullable: true
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          minLength: 1
          description: User's preferred language code
          maxLength: 10
        ai_assistance_enabled:
          type: boolean
          description: Whether AI assistance is enabled
        analytics_enabled:
          type: boolean
          description: Whether analytics tracking is enabled
    PromptField:
      type: object
      description: |-
        Serializer for individual prompt fields

        Handles validation of field configuration
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        label:
          type: string
          description: Display label for the field
          maxLength: 200
        placeholder:
          type: string
          description: Placeholder text shown in input
          maxLength: 500
        field_type:
          allOf:
          - $ref: '#/components/schemas/FieldTypeEnum'
          description: |-
            Type of input field to display

            * `text` - Text Input
            * `textarea` - Text Area
            * `dropdown` - Dropdown Select
            * `checkbox` - Checkbox List
            * `radio` - Radio Buttons
            * `number` - Number Input
        is_required:
          type: boolean
          description: Whether this field is mandatory
        default_value:
          type: string
          description: Default value for the field
        validation_pattern:
          type: string
          description: Regex pattern for validation
          maxLength: 500
        help_text:
          type: string
          description: Additional help text for users
        options:
          description: List of options for choice fields
        order:
          type: integer
          description: Display order within template
      required:
      - id
      - label
    PromptFieldRequest:
      type: object
      description: |-
        Serializer for individual prompt fields

        Handles validation of field configuration
      properties:
        label:
          type: string
          minLength: 1
          description: Display label for the field
          maxLength: 200
        placeholder:
          type: string
          description: Placeholder text shown in input
          maxLength: 500
        field_type:
          allOf:
          - $ref: '#/components/schemas/FieldTypeEnum'
          description: |-
            Type of input field to display

            * `text` - Text Input
            * `textarea` - Text Area
            * `dropdown` - Dropdown Select
            * `checkbox` - Checkbox List
            * `radio` - Radio Buttons
            * `number` - Number Input
        is_required:
          type: boolean
          description: Whether this field is mandatory
        default_value:
          type: string
          description: Default value for the field
        validation_pattern:
          type: string
          description: Regex pattern for validation
          maxLength: 500
        help_text:
          type: string
          description: Additional help text for users
        options:
          description: List of options for choice fields
        order:
          type: integer
          description: Display order within template
      required:
      - label
    PromptHistory:
      type: object
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          type: string
          format: uuid
          readOnly: true
        source:
          type: string
          maxLength: 50
        original_prompt:
          type: string
        optimized_prompt:
          type: string
        model_used:
          type: string
          maxLength: 100
        tokens_input:
          type: integer
          readOnly: true
        tokens_output:
          type: integer
          readOnly: true
        credits_spent:
          type: integer
          readOnly: true
        intent_category:
          type: string
          maxLength: 100
        tags: {}
        meta: {}
        is_deleted:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - credits_spent
      - id
      - original_prompt
      - tokens_input
      - tokens_output
      - updated_at
      - user
    PromptHistoryCreate:
      type: object
      properties:
        source:
          type: string
          maxLength: 50
        original_prompt:
          type: string
        intent_category:
          type: string
          maxLength: 100
        tags: {}
        meta: {}
      required:
      - original_prompt
    PromptHistoryCreateRequest:
      type: object
      properties:
        source:
          type: string
          maxLength: 50
        original_prompt:
          type: string
          minLength: 1
        intent_category:
          type: string
          maxLength: 100
        tags: {}
        meta: {}
      required:
      - original_prompt
    PromptHistoryRequest:
      type: object
      properties:
        source:
          type: string
          maxLength: 50
        original_prompt:
          type: string
          minLength: 1
        optimized_prompt:
          type: string
        model_used:
          type: string
          maxLength: 100
        intent_category:
          type: string
          maxLength: 100
        tags: {}
        meta: {}
        is_deleted:
          type: boolean
      required:
      - original_prompt
    PromptHistoryUpdate:
      type: object
      properties:
        optimized_prompt:
          type: string
        model_used:
          type: string
          maxLength: 100
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        credits_spent:
          type: integer
        tags: {}
        meta: {}
    PromptHistoryUpdateRequest:
      type: object
      properties:
        optimized_prompt:
          type: string
        model_used:
          type: string
          maxLength: 100
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        credits_spent:
          type: integer
        tags: {}
        meta: {}
    PromptIteration:
      type: object
      description: Full serializer for PromptIteration model
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          type: string
          format: uuid
          readOnly: true
        parent_prompt:
          type: string
          format: uuid
          description: The original prompt this iteration is based on
        previous_iteration:
          type: string
          format: uuid
          nullable: true
          description: The previous version in the iteration chain
        iteration_number:
          type: integer
          readOnly: true
          default: 1
          description: Sequential iteration number for this prompt chain
        version_tag:
          type: string
          description: Optional semantic version tag (e.g., 'v1.0', 'draft-2')
          maxLength: 50
        prompt_text:
          type: string
          description: The current iteration of the prompt
        system_message:
          type: string
          description: Optional system message for this iteration
        ai_response:
          type: string
          description: AI generated response for this iteration
        response_model:
          type: string
          description: AI model used for this response
          maxLength: 100
        interaction_type:
          allOf:
          - $ref: '#/components/schemas/InteractionTypeEnum'
          description: |-
            Type of iteration/modification

            * `manual` - Manual Edit
            * `optimization` - AI Optimization
            * `refinement` - User Refinement
            * `extension` - Extension/Add-on
            * `correction` - Error Correction
            * `experiment` - Experimental Variation
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        response_time_ms:
          type: integer
          description: Response time in milliseconds
        credits_spent:
          type: integer
        user_rating:
          type: integer
          nullable: true
          description: User rating (1-5) for this iteration
        feedback_notes:
          type: string
          description: User notes about this iteration
        changes_summary:
          type: string
          description: Summary of changes from previous iteration
        diff_size:
          type: integer
          readOnly: true
          description: Character difference from previous iteration
        parameters:
          description: Model parameters used (temperature, max_tokens, etc.)
        tags:
          description: Tags for categorization and search
        metadata:
          description: Additional flexible metadata
        is_active:
          type: boolean
          description: Whether this is the active/current iteration
        is_bookmarked:
          type: boolean
          description: User bookmark for important iterations
        is_deleted:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        iteration_chain_length:
          type: integer
          readOnly: true
        has_next_iteration:
          type: boolean
          readOnly: true
      required:
      - created_at
      - diff_size
      - has_next_iteration
      - id
      - is_deleted
      - iteration_chain_length
      - iteration_number
      - parent_prompt
      - prompt_text
      - updated_at
      - user
    PromptIterationCreate:
      type: object
      description: Serializer for creating a new PromptIteration
      properties:
        parent_prompt:
          type: string
          format: uuid
          description: The original prompt this iteration is based on
        previous_iteration:
          type: string
          format: uuid
          nullable: true
          description: The previous version in the iteration chain
        prompt_text:
          type: string
          description: The current iteration of the prompt
        system_message:
          type: string
          description: Optional system message for this iteration
        ai_response:
          type: string
          description: AI generated response for this iteration
        response_model:
          type: string
          description: AI model used for this response
          maxLength: 100
        interaction_type:
          allOf:
          - $ref: '#/components/schemas/InteractionTypeEnum'
          description: |-
            Type of iteration/modification

            * `manual` - Manual Edit
            * `optimization` - AI Optimization
            * `refinement` - User Refinement
            * `extension` - Extension/Add-on
            * `correction` - Error Correction
            * `experiment` - Experimental Variation
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        response_time_ms:
          type: integer
          description: Response time in milliseconds
        credits_spent:
          type: integer
        user_rating:
          type: integer
          nullable: true
          description: User rating (1-5) for this iteration
        feedback_notes:
          type: string
          description: User notes about this iteration
        changes_summary:
          type: string
          description: Summary of changes from previous iteration
        parameters:
          description: Model parameters used (temperature, max_tokens, etc.)
        tags:
          description: Tags for categorization and search
        metadata:
          description: Additional flexible metadata
        version_tag:
          type: string
          description: Optional semantic version tag (e.g., 'v1.0', 'draft-2')
          maxLength: 50
      required:
      - parent_prompt
      - prompt_text
    PromptIterationCreateRequest:
      type: object
      description: Serializer for creating a new PromptIteration
      properties:
        parent_prompt:
          type: string
          format: uuid
          description: The original prompt this iteration is based on
        previous_iteration:
          type: string
          format: uuid
          nullable: true
          description: The previous version in the iteration chain
        prompt_text:
          type: string
          minLength: 1
          description: The current iteration of the prompt
        system_message:
          type: string
          description: Optional system message for this iteration
        ai_response:
          type: string
          description: AI generated response for this iteration
        response_model:
          type: string
          description: AI model used for this response
          maxLength: 100
        interaction_type:
          allOf:
          - $ref: '#/components/schemas/InteractionTypeEnum'
          description: |-
            Type of iteration/modification

            * `manual` - Manual Edit
            * `optimization` - AI Optimization
            * `refinement` - User Refinement
            * `extension` - Extension/Add-on
            * `correction` - Error Correction
            * `experiment` - Experimental Variation
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        response_time_ms:
          type: integer
          description: Response time in milliseconds
        credits_spent:
          type: integer
        user_rating:
          type: integer
          nullable: true
          description: User rating (1-5) for this iteration
        feedback_notes:
          type: string
          description: User notes about this iteration
        changes_summary:
          type: string
          description: Summary of changes from previous iteration
        parameters:
          description: Model parameters used (temperature, max_tokens, etc.)
        tags:
          description: Tags for categorization and search
        metadata:
          description: Additional flexible metadata
        version_tag:
          type: string
          description: Optional semantic version tag (e.g., 'v1.0', 'draft-2')
          maxLength: 50
      required:
      - parent_prompt
      - prompt_text
    PromptIterationRequest:
      type: object
      description: Full serializer for PromptIteration model
      properties:
        parent_prompt:
          type: string
          format: uuid
          description: The original prompt this iteration is based on
        previous_iteration:
          type: string
          format: uuid
          nullable: true
          description: The previous version in the iteration chain
        version_tag:
          type: string
          description: Optional semantic version tag (e.g., 'v1.0', 'draft-2')
          maxLength: 50
        prompt_text:
          type: string
          minLength: 1
          description: The current iteration of the prompt
        system_message:
          type: string
          description: Optional system message for this iteration
        ai_response:
          type: string
          description: AI generated response for this iteration
        response_model:
          type: string
          description: AI model used for this response
          maxLength: 100
        interaction_type:
          allOf:
          - $ref: '#/components/schemas/InteractionTypeEnum'
          description: |-
            Type of iteration/modification

            * `manual` - Manual Edit
            * `optimization` - AI Optimization
            * `refinement` - User Refinement
            * `extension` - Extension/Add-on
            * `correction` - Error Correction
            * `experiment` - Experimental Variation
        tokens_input:
          type: integer
        tokens_output:
          type: integer
        response_time_ms:
          type: integer
          description: Response time in milliseconds
        credits_spent:
          type: integer
        user_rating:
          type: integer
          nullable: true
          description: User rating (1-5) for this iteration
        feedback_notes:
          type: string
          description: User notes about this iteration
        changes_summary:
          type: string
          description: Summary of changes from previous iteration
        parameters:
          description: Model parameters used (temperature, max_tokens, etc.)
        tags:
          description: Tags for categorization and search
        metadata:
          description: Additional flexible metadata
        is_active:
          type: boolean
          description: Whether this is the active/current iteration
        is_bookmarked:
          type: boolean
          description: User bookmark for important iterations
      required:
      - parent_prompt
      - prompt_text
    SavedPrompt:
      type: object
      description: Full serializer for SavedPrompt model
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          type: string
          format: uuid
          readOnly: true
        title:
          type: string
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        use_count:
          type: integer
          readOnly: true
          description: Number of times this prompt has been used
        last_used_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          description: Last time this prompt was used
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
        is_deleted:
          type: boolean
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - content
      - created_at
      - id
      - is_deleted
      - last_used_at
      - title
      - updated_at
      - use_count
      - user
    SavedPromptCreate:
      type: object
      description: Serializer for creating a new SavedPrompt
      properties:
        title:
          type: string
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
      required:
      - content
      - title
    SavedPromptCreateRequest:
      type: object
      description: Serializer for creating a new SavedPrompt
      properties:
        title:
          type: string
          minLength: 1
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
      required:
      - content
      - title
    SavedPromptList:
      type: object
      description: Lightweight serializer for listing SavedPrompts
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        title:
          type: string
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        use_count:
          type: integer
          readOnly: true
          description: Number of times this prompt has been used
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - content
      - created_at
      - id
      - title
      - updated_at
      - use_count
    SavedPromptRequest:
      type: object
      description: Full serializer for SavedPrompt model
      properties:
        title:
          type: string
          minLength: 1
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
      required:
      - content
      - title
    SavedPromptUpdate:
      type: object
      description: Serializer for updating an existing SavedPrompt
      properties:
        title:
          type: string
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
      required:
      - content
      - title
    SavedPromptUpdateRequest:
      type: object
      description: Serializer for updating an existing SavedPrompt
      properties:
        title:
          type: string
          minLength: 1
          description: Display title for the saved prompt
          maxLength: 200
        content:
          type: string
          minLength: 1
          description: The actual prompt text content
        description:
          type: string
          description: Optional description or notes about this prompt
        category:
          type: string
          description: Category for organizing prompts (e.g., 'coding', 'writing',
            'analysis')
          maxLength: 100
        tags:
          description: Tags for searchability and filtering
        is_favorite:
          type: boolean
          description: Whether this prompt is marked as favorite
        is_public:
          type: boolean
          description: Whether this prompt is publicly visible to other users
        metadata:
          description: Additional flexible metadata (variables, settings, etc.)
      required:
      - content
      - title
    StatusEnum:
      enum:
      - active
      - archived
      - completed
      type: string
      description: |-
        * `active` - Active
        * `archived` - Archived
        * `completed` - Completed
    TemplateCategory:
      type: object
      description: Serializer for template categories
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 100
        slug:
          type: string
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
        icon:
          type: string
          description: Icon name for UI display
          maxLength: 50
        color:
          type: string
          description: Hex color code for category
          maxLength: 7
        is_active:
          type: boolean
        order:
          type: integer
          description: Display order in lists
        template_count:
          type: string
          readOnly: true
      required:
      - id
      - name
      - slug
      - template_count
    TemplateCategoryRequest:
      type: object
      description: Serializer for template categories
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        slug:
          type: string
          minLength: 1
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
        icon:
          type: string
          description: Icon name for UI display
          maxLength: 50
        color:
          type: string
          minLength: 1
          description: Hex color code for category
          maxLength: 7
        is_active:
          type: boolean
        order:
          type: integer
          description: Display order in lists
      required:
      - name
      - slug
    TemplateCreateUpdate:
      type: object
      description: |-
        Serializer for creating and updating templates

        Handles:
        - Template creation with fields
        - Field validation
        - Author assignment
        - Transaction safety
      properties:
        title:
          type: string
          description: Template title
          maxLength: 200
        description:
          type: string
          description: Description of what this template does
        category:
          type: integer
          description: Template category
        template_content:
          type: string
          description: Template content with {{placeholders}}
        version:
          type: string
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        is_public:
          type: boolean
          description: Whether template is publicly visible
      required:
      - category
      - description
      - template_content
      - title
    TemplateCreateUpdateRequest:
      type: object
      description: |-
        Serializer for creating and updating templates

        Handles:
        - Template creation with fields
        - Field validation
        - Author assignment
        - Transaction safety
      properties:
        title:
          type: string
          minLength: 1
          description: Template title
          maxLength: 200
        description:
          type: string
          minLength: 1
          description: Description of what this template does
        category:
          type: integer
          description: Template category
        template_content:
          type: string
          minLength: 1
          description: Template content with {{placeholders}}
        version:
          type: string
          minLength: 1
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        is_public:
          type: boolean
          description: Whether template is publicly visible
        fields_data:
          type: array
          items:
            $ref: '#/components/schemas/PromptFieldRequest'
          writeOnly: true
      required:
      - category
      - description
      - template_content
      - title
    TemplateDetail:
      type: object
      description: |-
        Complete template serializer with all details

        Includes:
        - All template data
        - Associated fields
        - Author information
        - Category details
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        title:
          type: string
          description: Template title
          maxLength: 200
        description:
          type: string
          description: Description of what this template does
        category:
          allOf:
          - $ref: '#/components/schemas/TemplateCategory'
          readOnly: true
        template_content:
          type: string
          description: Template content with {{placeholders}}
        author:
          allOf:
          - $ref: '#/components/schemas/UserMinimal'
          readOnly: true
        fields:
          type: array
          items:
            $ref: '#/components/schemas/PromptField'
          readOnly: true
        version:
          type: string
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        is_ai_generated:
          type: boolean
          description: Whether this template was generated by AI
        ai_confidence:
          type: number
          format: double
          maximum: 1
          minimum: 0
          description: AI confidence score (0-1)
        extracted_keywords:
          description: AI-extracted keywords
        smart_suggestions:
          description: AI-generated suggestions
        usage_count:
          type: integer
          minimum: 0
          description: Number of times template was used
        completion_rate:
          type: number
          format: double
          maximum: 1
          minimum: 0
          description: Rate of successful completions (0-1)
        average_rating:
          type: number
          format: double
          maximum: 5
          minimum: 0
          description: Average user rating (0-5 stars)
        popularity_score:
          type: number
          format: double
          minimum: 0
          description: Calculated popularity score
        is_public:
          type: boolean
          description: Whether template is publicly visible
        is_featured:
          type: boolean
          description: Whether template is featured
        field_count:
          type: string
          readOnly: true
        localizations:
          description: Translations for different languages
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - author
      - category
      - created_at
      - description
      - field_count
      - fields
      - id
      - template_content
      - title
      - updated_at
    TemplateDetailRequest:
      type: object
      description: |-
        Complete template serializer with all details

        Includes:
        - All template data
        - Associated fields
        - Author information
        - Category details
      properties:
        title:
          type: string
          minLength: 1
          description: Template title
          maxLength: 200
        description:
          type: string
          minLength: 1
          description: Description of what this template does
        template_content:
          type: string
          minLength: 1
          description: Template content with {{placeholders}}
        version:
          type: string
          minLength: 1
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        is_ai_generated:
          type: boolean
          description: Whether this template was generated by AI
        ai_confidence:
          type: number
          format: double
          maximum: 1
          minimum: 0
          description: AI confidence score (0-1)
        extracted_keywords:
          description: AI-extracted keywords
        smart_suggestions:
          description: AI-generated suggestions
        usage_count:
          type: integer
          minimum: 0
          description: Number of times template was used
        completion_rate:
          type: number
          format: double
          maximum: 1
          minimum: 0
          description: Rate of successful completions (0-1)
        average_rating:
          type: number
          format: double
          maximum: 5
          minimum: 0
          description: Average user rating (0-5 stars)
        popularity_score:
          type: number
          format: double
          minimum: 0
          description: Calculated popularity score
        is_public:
          type: boolean
          description: Whether template is publicly visible
        is_featured:
          type: boolean
          description: Whether template is featured
        localizations:
          description: Translations for different languages
      required:
      - description
      - template_content
      - title
    TemplateList:
      type: object
      description: |-
        Lightweight serializer for template lists

        Optimized for performance with minimal data
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        title:
          type: string
          description: Template title
          maxLength: 200
        description:
          type: string
          description: Description of what this template does
        category:
          allOf:
          - $ref: '#/components/schemas/TemplateCategory'
          readOnly: true
        author:
          type: string
          readOnly: true
        version:
          type: string
          description: Template version
          maxLength: 20
        tags:
          description: List of tags for searching
        usage_count:
          type: integer
          minimum: 0
          description: Number of times template was used
        completion_rate:
          type: number
          format: double
          maximum: 1
          minimum: 0
          description: Rate of successful completions (0-1)
        average_rating:
          type: number
          format: double
          maximum: 5
          minimum: 0
          description: Average user rating (0-5 stars)
        popularity_score:
          type: number
          format: double
          minimum: 0
          description: Calculated popularity score
        is_featured:
          type: boolean
          description: Whether template is featured
        field_count:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - author
      - category
      - created_at
      - description
      - field_count
      - id
      - title
      - updated_at
    ThemePreferenceEnum:
      enum:
      - light
      - dark
      - system
      type: string
      description: |-
        * `light` - Light
        * `dark` - Dark
        * `system` - System
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
      required:
      - access
      - refresh
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
      required:
      - refresh
    UserMinimal:
      type: object
      description: |-
        Minimal user serializer for references in other models

        Used when you need basic user info in other serializers
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        username:
          type: string
          readOnly: true
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
        first_name:
          type: string
          readOnly: true
        last_name:
          type: string
          readOnly: true
        avatar_url:
          type: string
          readOnly: true
        level:
          type: integer
          readOnly: true
          description: User's current level
        user_rank:
          type: string
          readOnly: true
          description: User's current rank title
      required:
      - avatar_url
      - first_name
      - id
      - last_name
      - level
      - user_rank
      - username
    UserProfile:
      type: object
      description: |-
        Serializer for user profile display

        Read-only serializer for showing user information
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        avatar:
          type: string
          format: uri
          nullable: true
        avatar_url:
          type: string
          readOnly: true
        bio:
          type: string
          maxLength: 500
        date_joined:
          type: string
          format: date-time
          readOnly: true
        last_login:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        credits:
          type: integer
          readOnly: true
          description: User's available credits
        level:
          type: integer
          readOnly: true
          description: User's current level
        experience_points:
          type: integer
          readOnly: true
          description: Total experience points earned
        daily_streak:
          type: integer
          readOnly: true
          description: Current daily login streak
        user_rank:
          type: string
          readOnly: true
          description: User's current rank title
        rank_info:
          type: string
          readOnly: true
        next_level_xp:
          type: string
          readOnly: true
        is_premium:
          type: boolean
          readOnly: true
          description: Whether user has premium subscription
        premium_expires_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          description: When premium subscription expires
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          description: User's preferred language code
          maxLength: 10
        ai_assistance_enabled:
          type: boolean
          description: Whether AI assistance is enabled
        analytics_enabled:
          type: boolean
          description: Whether analytics tracking is enabled
        templates_created:
          type: integer
          readOnly: true
          description: Total templates created by user
        templates_completed:
          type: integer
          readOnly: true
          description: Total templates completed by user
        total_prompts_generated:
          type: integer
          readOnly: true
          description: Total prompts generated by user
        completion_rate:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - avatar_url
      - completion_rate
      - created_at
      - credits
      - daily_streak
      - date_joined
      - experience_points
      - id
      - is_premium
      - last_login
      - level
      - next_level_xp
      - premium_expires_at
      - rank_info
      - templates_completed
      - templates_created
      - total_prompts_generated
      - updated_at
      - user_rank
      - username
    UserRegistration:
      type: object
      description: |-
        Serializer for user registration

        Handles user creation with password confirmation
        and input validation
      properties:
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        bio:
          type: string
          maxLength: 500
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          description: User's preferred language code
          maxLength: 10
      required:
      - email
      - username
    UserRegistrationRequest:
      type: object
      description: |-
        Serializer for user registration

        Handles user creation with password confirmation
        and input validation
      properties:
        username:
          type: string
          minLength: 1
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 8
          description: Password must be at least 8 characters long
        password_confirm:
          type: string
          writeOnly: true
          minLength: 1
          description: Confirm your password
        bio:
          type: string
          maxLength: 500
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          minLength: 1
          description: User's preferred language code
          maxLength: 10
      required:
      - email
      - password
      - password_confirm
      - username
    UserUpdate:
      type: object
      description: |-
        Serializer for updating user profile

        Allows users to update their profile information
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        bio:
          type: string
          maxLength: 500
        avatar:
          type: string
          format: uri
          nullable: true
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          description: User's preferred language code
          maxLength: 10
        ai_assistance_enabled:
          type: boolean
          description: Whether AI assistance is enabled
        analytics_enabled:
          type: boolean
          description: Whether analytics tracking is enabled
    UserUpdateRequest:
      type: object
      description: |-
        Serializer for updating user profile

        Allows users to update their profile information
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        bio:
          type: string
          maxLength: 500
        avatar:
          type: string
          format: binary
          nullable: true
        theme_preference:
          allOf:
          - $ref: '#/components/schemas/ThemePreferenceEnum'
          description: |-
            User's preferred theme

            * `light` - Light
            * `dark` - Dark
            * `system` - System
        language_preference:
          type: string
          minLength: 1
          description: User's preferred language code
          maxLength: 10
        ai_assistance_enabled:
          type: boolean
          description: Whether AI assistance is enabled
        analytics_enabled:
          type: boolean
          description: Whether analytics tracking is enabled
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
tags:
- name: Saved Prompts
  description: CRUD operations for user-saved plain prompts. Also available via GraphQL.
- name: Prompt Iterations
  description: Version control and iteration tracking for prompts. Also available
    via GraphQL.
- name: Conversation Threads
  description: Multi-turn conversation management. Also available via GraphQL.
- name: Prompt History
  description: Prompt optimization history and tracking.
- name: Authentication
  description: User authentication and authorization.
- name: Templates
  description: Prompt template management.
- name: Chat
  description: AI chat completions and streaming.
- name: Gamification
  description: Achievements, levels, and rewards.
- name: Analytics
  description: Usage analytics and insights.
- name: Billing
  description: Subscription and payment management.
